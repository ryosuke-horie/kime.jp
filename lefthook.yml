# lefthook.yml

# pre-commitãƒ•ãƒƒã‚¯è¨­å®š
pre-commit:
  parallel: true
  commands:
    biome-check:
      glob: "**/*.{js,jsx,ts,tsx}"
      run: |
        echo "ğŸ“ ã‚³ãƒŸãƒƒãƒˆå‰ã®æ¤œè¨¼ã‚’å®Ÿè¡Œä¸­..."
        echo "ğŸ” Biomeã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
        pnpm biome check --write {staged_files}
    biome-lint:
      glob: "**/*.{js,jsx,ts,tsx}"
      run: |
        echo "ğŸ” Biomeã«ã‚ˆã‚‹ãƒªãƒ³ãƒˆã‚’å®Ÿè¡Œä¸­..."
        pnpm biome lint --write {staged_files}

# pre-pushãƒ•ãƒƒã‚¯è¨­å®š
pre-push:
  parallel: false
  commands:
    typecheck:
      run: |
        echo "ğŸ§ª ãƒ—ãƒƒã‚·ãƒ¥å‰ã®æ¤œè¨¼ã‚’å®Ÿè¡Œä¸­..."
        echo "ğŸ” TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
        pnpm typecheck || echo "âš ï¸ å‹ãƒã‚§ãƒƒã‚¯ã«ä¸€éƒ¨ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ãŒã€ç¶™ç¶šã—ã¾ã™"
    lint:
      run: |
        echo "ğŸ” ãƒªãƒ³ãƒˆãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
        pnpm lint || echo "âš ï¸ ãƒªãƒ³ãƒˆã«ä¸€éƒ¨ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ãŒã€ç¶™ç¶šã—ã¾ã™"
    build:
      run: |
        echo "ğŸ”¨ ãƒ“ãƒ«ãƒ‰æ¤œè¨¼ã‚’å®Ÿè¡Œä¸­..."
        pnpm build || echo "âš ï¸ ãƒ“ãƒ«ãƒ‰ã«ä¸€éƒ¨ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ãŒã€ç¶™ç¶šã—ã¾ã™"
    test:
      run: |
        echo "ğŸ§ª ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­..."
        pnpm test || echo "âš ï¸ ãƒ†ã‚¹ãƒˆã«ä¸€éƒ¨å¤±æ•—ãŒã‚ã‚Šã¾ã™ãŒã€ç¶™ç¶šã—ã¾ã™"