# lefthook.yml

# pre-commitãƒ•ãƒƒã‚¯è¨­å®š
pre-commit:
  parallel: true
  commands:
    biome-check:
      glob: "*.{js,jsx,ts,tsx,json,yaml,yml,md}"
      run: |
        echo "ğŸ“ ã‚³ãƒŸãƒƒãƒˆå‰ã®æ¤œè¨¼ã‚’å®Ÿè¡Œä¸­..."
        echo "ğŸ” Biomeã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
        pnpm biome check --write {staged_files}
    biome-lint:
      glob: "*.{js,jsx,ts,tsx}"
      run: |
        echo "ğŸ” Biomeã«ã‚ˆã‚‹ãƒªãƒ³ãƒˆã‚’å®Ÿè¡Œä¸­..."
        pnpm biome lint --apply {staged_files}

# pre-pushãƒ•ãƒƒã‚¯è¨­å®š
pre-push:
  parallel: false
  commands:
    typecheck:
      run: |
        echo "ğŸ§ª ãƒ—ãƒƒã‚·ãƒ¥å‰ã®æ¤œè¨¼ã‚’å®Ÿè¡Œä¸­..."
        echo "ğŸ” TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
        pnpm typecheck
    test:
      run: |
        echo "ğŸ§ª ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­..."
        pnpm test
    success:
      run: echo "âœ… å…¨ã¦ã®æ¤œè¨¼ãŒå®Œäº†ã—ã¾ã—ãŸï¼"

# Git Hooks ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
# package.json ã® prepare ã‚¹ã‚¯ãƒªãƒ—ãƒˆã« "lefthook install" ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã‚‚å¯èƒ½